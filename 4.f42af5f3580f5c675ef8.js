(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{lXdu:function(e,t,n){"use strict";n.r(t),n.d(t,"BooksModule",function(){return j});var o=n("ofXK"),r=n("tk/3"),l=n("tyNb"),i=n("S/Pp"),a=n("fXoL");let m=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-books"]],decls:2,vars:0,template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"p"),a["\u0275\u0275text"](1,"books works!"),a["\u0275\u0275elementEnd"]())},styles:[""]}),e})(),s=(()=>{class e{constructor(e){this._http=e,this.booksURL="http://localhost:3000/books",this.registerBookURL="http://localhost:3000/registerBook"}getBookList(){return this._http.get(this.booksURL)}registerBook(e){return this._http.post(this.registerBookURL,e)}getRegBookList(){return this._http.get(this.registerBookURL)}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](r.a))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var d=n("3Pt+"),c=n("oOf3"),u=n("cudM"),p=n("cZdB");const g=function(e,t){return[e,t]},f=function(e){return["/books","issue-books",e]};function k(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td"),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td"),a["\u0275\u0275text"](4),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td"),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"td"),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](9,"td"),a["\u0275\u0275text"](10),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](11,"td"),a["\u0275\u0275elementStart"](12,"a",10),a["\u0275\u0275text"](13,"Register"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](e.id),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](e.bookName),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](e.authorName),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](e.bookCategory),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](e.availableBooks),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("routerLink",a["\u0275\u0275pureFunction1"](9,f,a["\u0275\u0275pureFunction2"](6,g,e.bookName,e.authorName)))}}const h=function(e,t){return{id:"listing_pagination",itemsPerPage:5,currentPage:e,totalItems:t}};let b=(()=>{class e{constructor(e,t){this.bookService=e,this._http=t,this.page=1,this.key="id",this.reverse=!1}ngOnInit(){this.getBookList()}getBookList(){this.bookService.getBookList().subscribe(e=>{this.collection=e,console.log(this.collection)})}search(){""==this.filterTerm?this.ngOnInit():this.collection=this.collection.filter(e=>e.filterTerm.toLocaleLowerCase().match(this.filterTerm.toLocaleLowerCase()))}sort(e){this.key=e,this.reverse=!this.reverse}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](s),a["\u0275\u0275directiveInject"](r.a))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-available-books"]],decls:32,vars:15,consts:[[1,"container","mt-5"],[1,"row"],[1,"col-md-4","mt-3"],[1,"navbar"],["type","text","placeholder","Enter the text to search...","name","filterTerm",1,"form-control",3,"ngModel","ngModelChange"],[1,"table","table-bordered","mt-2","ml-3"],[3,"click"],[1,"fa","fa-sort"],[4,"ngFor","ngForOf"],["id","listing_pagination","maxSize","5","directionLinks","true",3,"pageChange"],[3,"routerLink"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"nav",3),a["\u0275\u0275elementStart"](4,"input",4),a["\u0275\u0275listener"]("ngModelChange",function(e){return t.filterTerm=e})("ngModelChange",function(){return t.search()}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](5,"br"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"table",5),a["\u0275\u0275elementStart"](7,"thead"),a["\u0275\u0275elementStart"](8,"tr"),a["\u0275\u0275elementStart"](9,"th",6),a["\u0275\u0275listener"]("click",function(){return t.sort("id")}),a["\u0275\u0275text"](10,"Id\xa0"),a["\u0275\u0275element"](11,"i",7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"th",6),a["\u0275\u0275listener"]("click",function(){return t.sort("bookName")}),a["\u0275\u0275text"](13,"Book Name\xa0"),a["\u0275\u0275element"](14,"i",7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](15,"th",6),a["\u0275\u0275listener"]("click",function(){return t.sort("authorName")}),a["\u0275\u0275text"](16,"Author Name\xa0"),a["\u0275\u0275element"](17,"i",7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"th",6),a["\u0275\u0275listener"]("click",function(){return t.sort("bookCategory")}),a["\u0275\u0275text"](19,"Book Category\xa0"),a["\u0275\u0275element"](20,"i",7),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"th"),a["\u0275\u0275text"](22,"Available Books"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](23,"th"),a["\u0275\u0275text"](24,"Action"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](25,"tbody"),a["\u0275\u0275template"](26,k,14,11,"tr",8),a["\u0275\u0275pipe"](27,"paginate"),a["\u0275\u0275pipe"](28,"orderBy"),a["\u0275\u0275pipe"](29,"filter"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div"),a["\u0275\u0275elementStart"](31,"pagination-controls",9),a["\u0275\u0275listener"]("pageChange",function(e){return t.page=e}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("ngModel",t.filterTerm),a["\u0275\u0275advance"](22),a["\u0275\u0275property"]("ngForOf",a["\u0275\u0275pipeBind2"](27,2,a["\u0275\u0275pipeBind3"](28,5,a["\u0275\u0275pipeBind2"](29,9,t.collection,t.filterTerm),t.key,t.reverse),a["\u0275\u0275pureFunction2"](12,h,t.page,t.totalRecords))))},directives:[d.a,d.f,d.i,o.i,c.c,l.d],pipes:[c.b,u.Ng2OrderPipe,p.a],styles:[""]}),e})(),v=(()=>{class e{constructor(e){this._http=e}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](r.a))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-issue-book-page"]],decls:0,vars:0,template:function(e,t){},styles:[""]}),e})();function S(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"small",22),a["\u0275\u0275text"](1,"Username is required !"),a["\u0275\u0275elementEnd"]())}function E(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"small",22),a["\u0275\u0275text"](1,"Username must be at least 5 characters"),a["\u0275\u0275elementEnd"]())}function B(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275template"](1,S,2,0,"small",21),a["\u0275\u0275template"](2,E,2,0,"small",21),a["\u0275\u0275elementEnd"]()),2&e){const e=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",null==e.registerBookForm.get("userName").errors?null:e.registerBookForm.get("userName").errors.required),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",null==e.registerBookForm.get("userName").errors?null:e.registerBookForm.get("userName").errors.minlength)}}function x(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"option",23),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;a["\u0275\u0275property"]("value",e.bookName),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",e.bookName," ")}}function N(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"small",22),a["\u0275\u0275text"](1,"Mobile No is required !"),a["\u0275\u0275elementEnd"]())}function y(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"small",22),a["\u0275\u0275text"](1,"Mobile No must be 10 digits"),a["\u0275\u0275elementEnd"]())}function F(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275template"](1,N,2,0,"small",21),a["\u0275\u0275template"](2,y,2,0,"small",21),a["\u0275\u0275elementEnd"]()),2&e){const e=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",null==e.registerBookForm.get("mobile").errors?null:e.registerBookForm.get("mobile").errors.required),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",null==e.registerBookForm.get("mobile").errors?null:e.registerBookForm.get("mobile").errors.minlength)}}function I(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"small",22),a["\u0275\u0275text"](1,"Adhar No is required !"),a["\u0275\u0275elementEnd"]())}function L(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"small",22),a["\u0275\u0275text"](1,"Adhar No must be 12 digits"),a["\u0275\u0275elementEnd"]())}function C(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"div"),a["\u0275\u0275template"](1,I,2,0,"small",21),a["\u0275\u0275template"](2,L,2,0,"small",21),a["\u0275\u0275elementEnd"]()),2&e){const e=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",null==e.registerBookForm.get("idProof").errors?null:e.registerBookForm.get("idProof").errors.required),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",null==e.registerBookForm.get("idProof").errors?null:e.registerBookForm.get("idProof").errors.minlength)}}function P(e,t){if(1&e&&(a["\u0275\u0275elementStart"](0,"tr"),a["\u0275\u0275elementStart"](1,"td"),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"td"),a["\u0275\u0275text"](4),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"td"),a["\u0275\u0275text"](6),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"td"),a["\u0275\u0275text"](8),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](e.bookName),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](e.idProof),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](e.userName),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](e.mobile)}}const w=[{path:"",component:m},{path:"available-books",component:b,canActivate:[i.a]},{path:"issue-books",component:(()=>{class e{constructor(e,t,n,o){this.fb=e,this.bookService=t,this.router=n,this.activatedRoute=o,this.alert=!1}ngOnInit(){this.bookService.getBookList().subscribe(e=>{this.bookListName=e}),this.activatedRoute.snapshot.paramMap.get("bookNames"),this.bookService.getBookList().subscribe(e=>{this.collection=e,console.log(this.collection)}),this.bookService.getRegBookList().subscribe(e=>{this.registerBookList=e,console.log(this.registerBookList)}),this.registerBookForm=this.fb.group({userName:["",[d.n.required,d.n.minLength(5)]],issueTime:[""],bookName:[""],mobile:["",[d.n.required,d.n.minLength(10)]],idProof:["",[d.n.required,d.n.minLength(12)]]})}createBook(){console.log(this.registerBookForm.value),this.bookService.registerBook(this.registerBookForm.value).subscribe(e=>{let t=this.bookListName.map(e=>(e.name==this.registerBookForm.value.bookName&&(e.isBookDisabled=!0),e));console.log(t),console.log(this.registerBookForm.value),alert("Book has been issued Succesfully"),this.registerBookForm.reset(),this.router.navigate(["/books/issue-books"])})}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275directiveInject"](d.b),a["\u0275\u0275directiveInject"](s),a["\u0275\u0275directiveInject"](l.b),a["\u0275\u0275directiveInject"](l.a))},e.\u0275cmp=a["\u0275\u0275defineComponent"]({type:e,selectors:[["app-issue-books"]],decls:54,vars:13,consts:[[1,"container","mt-3"],[1,"row"],[1,"col","mt-5"],[1,"col"],[1,"h3","text-secondary"],[1,"row","mt-3"],["mt-3","",1,"col-md-6"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","placeholder","Enter UserName","name","userName","formControlName","userName",1,"form-control"],[4,"ngIf"],["type","text","placeholder","click here to pick date","name","issueTime","formControlName","issueTime",1,"form-control"],["for","book"],["name","bookName","id","bookName","formControlName","bookName",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Enter Mobile No","name","mobile","formControlName","mobile",1,"form-control"],["type","text","name","idProof","formControlName","idProof",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"col-md-6"],[1,"table","table-bordered","mt-3"],[4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[3,"value"]],template:function(e,t){1&e&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"div",1),a["\u0275\u0275elementStart"](2,"div",2),a["\u0275\u0275elementStart"](3,"div",3),a["\u0275\u0275elementStart"](4,"p",4),a["\u0275\u0275text"](5,"Register for Issue Book"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"div",5),a["\u0275\u0275elementStart"](7,"div",6),a["\u0275\u0275elementStart"](8,"form",7),a["\u0275\u0275listener"]("ngSubmit",function(){return t.createBook()}),a["\u0275\u0275elementStart"](9,"div",8),a["\u0275\u0275elementStart"](10,"label"),a["\u0275\u0275text"](11,"UserName:"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](12,"input",9),a["\u0275\u0275template"](13,B,3,2,"div",10),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"div",8),a["\u0275\u0275elementStart"](15,"label"),a["\u0275\u0275text"](16,"Issue Time:"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](17,"input",11),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](18,"div",8),a["\u0275\u0275elementStart"](19,"label",12),a["\u0275\u0275text"](20,"Book Name:"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](21,"select",13),a["\u0275\u0275elementStart"](22,"option"),a["\u0275\u0275text"](23,"Select Book Name..."),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](24,x,2,2,"option",14),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](25,"div",8),a["\u0275\u0275elementStart"](26,"label"),a["\u0275\u0275text"](27,"Mobile No:"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](28,"input",15),a["\u0275\u0275template"](29,F,3,2,"div",10),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](30,"div",8),a["\u0275\u0275elementStart"](31,"label"),a["\u0275\u0275text"](32,"Adhar No:"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](33,"input",16),a["\u0275\u0275template"](34,C,3,2,"div",10),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](35,"button",17),a["\u0275\u0275text"](36," Register "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](37,"div",18),a["\u0275\u0275elementStart"](38,"div",3),a["\u0275\u0275elementStart"](39,"p",4),a["\u0275\u0275text"](40,"Recently Issued Books"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](41,"table",19),a["\u0275\u0275elementStart"](42,"thead"),a["\u0275\u0275elementStart"](43,"tr"),a["\u0275\u0275elementStart"](44,"th"),a["\u0275\u0275text"](45,"Book Name"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](46,"th"),a["\u0275\u0275text"](47,"Adhar No"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](48,"th"),a["\u0275\u0275text"](49,"Person Name"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](50,"th"),a["\u0275\u0275text"](51,"Mobile"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](52,"tbody"),a["\u0275\u0275template"](53,P,9,4,"tr",20),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&e&&(a["\u0275\u0275advance"](8),a["\u0275\u0275property"]("formGroup",t.registerBookForm),a["\u0275\u0275advance"](4),a["\u0275\u0275classProp"]("is-invalid",t.registerBookForm.get("userName").invalid&&t.registerBookForm.get("userName").touched),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.registerBookForm.get("userName").invalid&&t.registerBookForm.get("userName").touched),a["\u0275\u0275advance"](11),a["\u0275\u0275property"]("ngForOf",t.collection),a["\u0275\u0275advance"](4),a["\u0275\u0275classProp"]("is-invalid",t.registerBookForm.get("mobile").invalid&&t.registerBookForm.get("mobile").touched),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.registerBookForm.get("mobile").invalid&&t.registerBookForm.get("mobile").touched),a["\u0275\u0275advance"](4),a["\u0275\u0275classProp"]("is-invalid",t.registerBookForm.get("idProof").invalid&&t.registerBookForm.get("idProof").touched),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.registerBookForm.get("idProof").invalid&&t.registerBookForm.get("idProof").touched),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("disabled",!t.registerBookForm.valid),a["\u0275\u0275advance"](18),a["\u0275\u0275property"]("ngForOf",t.registerBookList))},directives:[d.p,d.g,d.d,d.a,d.f,d.c,o.j,d.m,d.j,d.o,o.i],styles:[""]}),e})(),canActivate:[i.a]},{path:"issue-book-page",component:v}];let M=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({imports:[[l.e.forChild(w)],l.e]}),e})(),j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({imports:[[o.b,M,r.b,c.a,d.e,d.k,u.Ng2OrderModule,p.b]]}),e})()}}]);